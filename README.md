# Hard-Dumbbell-CP
Code for generating variants of close packed hard dumbbell structures. These are the more stable structures when the ratio of bond length to sphere diameter is between approximately 0.4 to 0.8.

## Requirements
Within your python environment (virtual or otherwise)

```
pip -r requirements.txt
```

This will install the [ASE](https://ase-lib.org/) (for building supercells), [GSD](https://gsd.readthedocs.io/en/v4.2.0/python-module-gsd.hoomd.html) (for writing structures in a format which [Hoomd-Blue](https://hoomd-blue.readthedocs.io/en/v6.0.0/) can read) and Numpy. Any recent version of these will suffice. Only minimal functionality is used.

## Usage

Run the main script `build_dimer_cp.py`.

`python build_dimer_cp.py sigma L Na Nb Nl --dimer_shifts=<constant|alternating|random> --layer_shifts=<constant|alternating|random> --initial_shifts=<opposite|aligned> --interdig`

`sigma` Diameter of constituent hard spheres

`L` Distance between sphere centres in the dumbbell. Must be less than sigma.

`Na` Number of dumbbell layer unit cells in the x direction

`Nb` Number of dummbell layer unit cells in the y direction

`Nl` Target number of layers to stack

The code will try to find the closest number of layers to `Nl` that leads to periodicity in the stacking direction. For some interdigitated stuctures or structures with random
layer shifts this periodicity can require very large unit cells. The maximum is capped to 100 layers.

Distinction between different stacking variants is defined by the `dimer_shift`, `layer_shift` and `initial_shift` arguments.

For example, the CP1 structure of [Vegas, Paras and Monson](https://pubs.aip.org/aip/jcp/article-abstract/96/12/9060/97521/Solid-fluid-equilibria-for-hard-dumbbells-via?redirectedFrom=fulltext) can be generated for L/sigma=0.5 with

`python build_dimer_cp.py 1.0 0.5 --dimer_shifts=constant --layer_shifts=constant --initial_shifts=aligned`

the CP2 variant with

`python build_dimer_cp.py 1.0 0.5 --dimer_shifts=constant --layer_shifts=constant --initial_shifts=opposite`

and the CP3 variant with

`python build_dimer_cp.py 1.0 0.5 --dimer_shifts=alternating --layer_shifts=constant --initial_shifts=aligned`

Structures in which the layers are interdigitated can be generated by adding the `--interdig` option. For example

`python build_dimer_cp.py 1.0 0.5 --dimer_shifts=alternating --layer_shifts=alternating --initial_shifts=aligned --interdig`

## Output

Structures are output in the GSD format suitable for use with [Hoomd-Blue](https://hoomd-blue.readthedocs.io/en/v6.0.0/) and in 
a conventional `.xyz` format in which the three unit cell vectors are printed sequentially on the second line.
